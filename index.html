<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Simple ML Image Classifier</title>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.14.0"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet"></script>

<style>
body{
  background:#0b1220;
  color:white;
  font-family:system-ui;
  padding:20px;
}
h2{margin-top:0}
button,input{
  width:100%;
  padding:8px;
  margin-top:6px;
  border-radius:8px;
  border:none;
}
button{background:#3b82f6;color:white;cursor:pointer}
button:hover{filter:brightness(1.15)}
.card{
  background:#020617;
  padding:14px;
  border-radius:14px;
  margin-bottom:14px;
}
.small{font-size:12px;opacity:.7}
.row{display:flex;gap:8px;margin-top:8px}
.palette{display:flex;gap:8px;margin-top:6px}
.swatch{
  width:28px;height:28px;border-radius:50%;
  cursor:pointer;border:2px solid transparent;
}
.swatch.active{
  border-color:white;
  box-shadow:0 0 8px #60a5fa;
}
.progressbg{
  background:#1e293b;
  height:14px;
  border-radius:10px;
  overflow:hidden;
  margin-top:8px;
}
.progress{height:14px;width:0;background:#22c55e;transition:.2s}
.barbg{
  background:#1e293b;
  border-radius:8px;
  overflow:hidden;
  margin-top:6px;
}
.bar{
  height:18px;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  padding-right:6px;
  font-size:12px;
}
</style>
</head>

<body>

<h2>ðŸ§  Easy Image Classifier</h2>

<input id="classInput" placeholder="Class name">
<button onclick="addClass()">âž• Add Class</button>

<div id="classList"></div>

<button onclick="train()">ðŸš€ Train Model</button>
<div class="progressbg"><div id="prog" class="progress"></div></div>
<div id="status"></div>

<h3>Test Image</h3>
<input type="file" accept="image/*" onchange="testImage(event)">
<div id="results"></div>

<script>
let net, classifier
let classes=[]

const PRESETS=[
  {bg:"#22c55e", text:"#052e16"},
  {bg:"#3b82f6", text:"#020617"},
  {bg:"#f59e0b", text:"#3f1d0b"},
  {bg:"#ef4444", text:"#450a0a"},
  {bg:"#a855f7", text:"#2e1065"}
]

function addClass(){
  const name=classInput.valu
